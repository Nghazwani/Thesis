A% how to would explain PF to someone who doesnot know anything about HEP %

When we collide particles at high energies inside a particle detector, the collision products either will decay into a final stable particle that can be detected or
it  would not interact with the detector. 

(collision products could be: a heavy particle that decays into a stable particle like tau,
or jet of long lived particles (charged hadrons, photons from neutral pions, neutral hadrons) produced when a quark/gluon hadronizes,
or particles that don't intereact with the detector like neutrinos) (source?) 

To able to see the products orginated from collision, we need a way to reconstruct them from the stable particles captured by the detector.
CMS experiments is able to do that using a reconstruction alogrithm called particle flow (PF).

This alogorithm uses the various signals captured by the CMS subdetectors to derive physics objects originated from the collision (like:Muons, electrons, photons, jets, taus, missing transverse energy)
which will be stored for further analysis in the future.

This chapter will proivde a breif description of PF algortihm, calorimeter clusters. Additionally, calibration cluster calibration which is related to work done in this thesis.  

%\section{Particle Flow Reconstruction}

as mentioned previously, The PF algorithm aims to reconstruct and identify all final particles produce in the event (what do mean by an event?).
This is achieved by utilizing the fact that different particles leave different signatures in the CMS subdetectors.

we have two types of PF reconstruction. Online whichs is required to be done quickly during data taking to select interesting events (what kind of events we are looking for?) , it is not integrated in the PF framework (clear this point, what is the PF framework? ) .
and offline which tht is done after data is collected. it takes more time to achieve higher precision. algorithms, for clustering and tracking, are integrated in the PF framework.

(in ECAL chapter we cover HLT PF cluster claibraton)

The PF algrithm is done in multiple steps.
it starts with reconstructing the basic elements of the PF: tracks, energy clusters which are using advanced algorithm.
The details of the clustering algorithm and the calibration of the clusters will be discussed in the next sections.

Then forming links between the PF elements based on their spatial proximity.
(the linking rule is to cannect a small thing a big one where they must be touching in the eta-phi space)
(the order of the size from small to big track<Ecal<Hcal)
(links could be formed between tracks and ECAL cluster, tracks and HCAL clusters, ECAL and HCAL clusters, inner tracks and muon tracks, muon tracks and ECAL clusters, muon tracks and HCAL clusters)

after all the links are established, PF blocks are formed from all groups of linked tracks and clusters.  
(note we could have blocks from the an alone elemet like a single track or a cluster) 
(insert skitch of the blocks) 
% source intro to PF workshop

the final step in the PF is to derive the list of PF particle candidate from the PF blocks.
this decison is done by following a stric order. after checking the tracks and clusters associated to a PF cadidate, they will be removed from their blocks.

this order starts with the cleanest signture in the CMS muons. Then, isolated electrons and photons (ECAL clusters not linked to HCAL cluster).
Then neutral hadrons and photons (all left clusters without track link) (Ecal cluster will be assigned to photon candidates and HCAl clusters will be assigned to a neural hadron)
after that everything left are charged hadrons.

for charged hadrons, the energy must be calibrated. this could be done by comparing the sum of cluster energy to the sum of the track momenta.
(expand more on the calibration done here, in case overlap of charged and neutral hadron)
(also any alone tracks will be assigned as charge hadrons)

\subsection{Calorimeter Clustering}

Clustering in done in each calorimeter following three steps.
First, we need to identify topological clusters and their seeds. After that we can compute cluster positions and energies.

We can identify topological clusters by looking for a group of calorimeter cells, each has energy deposit above a certain threshold, that share at least one neighbor.
Then we identify any calorimeter cell whose energy is a local maximum, with respect to its immediate neighbors, this is a seed.
Topological clusters must have one seed or multiple.

When Computing cluster positions and energies we have two kinds of topological clusters.
One with Single-seed and the other type has Multiple-seed.

In the Single-seed case the cluster energy will be the sum of all the individual cell energies within the cluster and its position is going to be the energy-weighted average of the individual cell positions.

For Multiple-seed case, each seed is assumed to represent a unique energy cluster,but the energy deposited in non-seed cells will be shared between the various clusters within the topological cluster.
An iterative procedure is used to converge on cluster energies and positions based on energy-weighted averages of fractional cell energies.
(we could include eq that shows how the energy is shared between the seeds or add a skitch)

\section{Cluster Calibration}

as seen in PF section, photons and neutral hadrons are reconstructed only from calorimeter clusters.
and charged hadrons can be calibrated by check the track momenta.

an accurate calibration of the calorimeter response to photons and hadrons is important to maximize the probability to identify the neutral particles and
also to minimize the rate of misreconstructed energy excesses.
% source: PF paper pg 16 

\subsection{ECAL Cluster Calibration}

(mention calibration done before data taking breif) 
(here correction is mostly due to thresholds) 

(will add soon)	

\subsection{HCAL Cluster Calibration}

(hadrons could start showering in the ECAL)
(from previous section, ECAL is calibrated well for EM components but not for hadrons)

(will add soon)	
